@page "/graph"
@rendermode InteractiveServer

<h1>Select Service</h1>

<RadzenDropDown TValue="string" Data="@services" Change="@OnChange" Style="width: 200px;">
</RadzenDropDown>

<RadzenChart TItem="ChartData" Data="@chartData" CategoryProperty="X" ValueProperty="Y">
        <RadzenChartSeries Type="RadzenChartType.Column" />
        <RadzenChartTitle Text="Service Data" />
        <RadzenChartLegend Position="RadzenChartLegendPosition.Top" />
</RadzenChart>

@code {
    private IEnumerable<string> services = new List<string> { "Service 1", "Service 2", "Service 3" };

    private List<ChartData> chartData = new List<ChartData>
    {
        new ChartData { X = "January", Y = 100 },
        new ChartData { X = "February", Y = 150 },
        new ChartData { X = "March", Y = 200 }
    };

    private class ChartData
    {
        public string X { get; set; }
        public int Y { get; set; }
    }

    void OnChange(object value)
    {
        // Handle dropdown selection change here
        // Update graph data based on selected service
        // For example:
        if (value == "Service 1")
        {
            chartData = new List<ChartData>
            {
                new ChartData { X = "January", Y = 100 },
                new ChartData { X = "February", Y = 150 },
                new ChartData { X = "March", Y = 200 }
                // Add more data points for Service 1
            };
        }
        else if (value == "Service 2")
        {
            chartData = new List<ChartData>
            {
                new ChartData { X = "January", Y = 120 },
                new ChartData { X = "February", Y = 170 },
                new ChartData { X = "March", Y = 220 }
                // Add more data points for Service 2
            };
        }
        else if (value == "Service 3")
        {
            chartData = new List<ChartData>
            {
                new ChartData { X = "January", Y = 90 },
                new ChartData { X = "February", Y = 140 },
                new ChartData { X = "March", Y = 190 }
                // Add more data points for Service 3
            };
        }
    }
}
